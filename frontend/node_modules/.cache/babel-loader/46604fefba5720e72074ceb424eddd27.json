{"ast":null,"code":"var _jsxFileName = \"E:\\\\blog\\\\frontend\\\\src\\\\pages\\\\edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Select, Option, SelectItem, Header, Down } from \"./styles/postStyle\";\nimport { BlogItem, ItemImg, EditTitle, Head, User, Dates, EditDesc, Button, Checked } from \"./styles/blogg\";\nimport { BlogContainer } from \"../components/sidebar/styles/sidebarstyle\";\nimport Sidebar from \"../components/sidebar/sidebar\";\nimport { data } from \"./data/categories\";\nimport { useDispatch } from \"react-redux\";\nimport { Line, Input, AddImg, InputField } from \"./styles/postStyle\";\nimport axios from \"axios\";\nimport { editPost } from \"./actions/postactions\";\nimport { Message } from \"./styles/loginstyle\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Cate from \"./data/cate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const blog = useSelector(state => state.blog.blog);\n  const userInfo = useSelector(state => state.blog.userInfo);\n  const [photo, setPhoto] = useState(blog ? blog.photo : \"\");\n  const [title, setTitle] = useState(blog.title ? blog.title : \"\");\n  const [click, setClick] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const {\n    pathname\n  } = useLocation();\n  const id = pathname.slice(6, pathname.length - 5);\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(blog.description ? blog.description : \"\");\n  const [choose, setChoose] = useState(false);\n  let categories = [];\n  let cats = [...categories];\n  const dispatch = useDispatch();\n  const editErr = useSelector(state => state.blog.editErr);\n\n  const uploadFile = async e => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    const {\n      data\n    } = await axios.post('/api/upload', formData, {\n      headers: {\n        \"Content-Type\": \"multiformat/formdata\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    setPhoto(`/images/${data.slice(24, data.length)}`);\n  };\n\n  const submitHandler = e => {\n    if (category !== \"\") categories.push(...cats, category);\n    console.log(cats);\n    e.preventDefault();\n    dispatch(editPost({\n      username: userInfo.username,\n      title,\n      description,\n      photo,\n      categories\n    }, id, userInfo));\n    if (!editErr) setMessage(\"Post updated successfully!\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [message && /*#__PURE__*/_jsxDEV(Message, {\n      two: true,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), editErr && /*#__PURE__*/_jsxDEV(Message, {\n      children: editErr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(BlogContainer, {\n      children: [/*#__PURE__*/_jsxDEV(BlogItem, {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(ItemImg, {\n          src: photo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          two: true,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            two: true,\n            onChange: uploadFile,\n            type: \"file\",\n            name: \"image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(AddImg, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: photo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EditTitle, {\n          placeholder: \"Enter title\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Head, {\n          two: true,\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            children: [\"Author: \", blog.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Dates, {\n            children: new Date(blog.createdAt).toDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EditDesc, {\n          placeholder: \"Enter description\",\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n          two: true,\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            onClick: () => setChoose(!choose),\n            children: \"Choose Category: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [data.map(cat => /*#__PURE__*/_jsxDEV(Cate, {\n              cat: cat,\n              choose: choose,\n              categories: categories,\n              cats: cats\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)), !choose && /*#__PURE__*/_jsxDEV(Select, {\n              two: true,\n              onClick: () => setChoose(!choose),\n              children: /*#__PURE__*/_jsxDEV(Option, {\n                children: [\"Categories \", /*#__PURE__*/_jsxDEV(Down, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this), choose && /*#__PURE__*/_jsxDEV(Select, {\n              onClick: () => setClick(true),\n              children: /*#__PURE__*/_jsxDEV(Option, {\n                children: \"Others \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 12\n            }, this), click && /*#__PURE__*/_jsxDEV(InputField, {\n              placeholder: \"Enter category\",\n              type: \"text\",\n              value: category,\n              onChange: e => setCategory(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Edit, \"HCcBUx5ahLkC0abZzOTWesk/u0s=\", false, function () {\n  return [useSelector, useSelector, useNavigate, useLocation, useDispatch, useSelector];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["E:/blog/frontend/src/pages/edit.js"],"names":["React","useState","useEffect","useSelector","Select","Option","SelectItem","Header","Down","BlogItem","ItemImg","EditTitle","Head","User","Dates","EditDesc","Button","Checked","BlogContainer","Sidebar","data","useDispatch","Line","Input","AddImg","InputField","axios","editPost","Message","useLocation","useNavigate","Cate","Edit","blog","state","userInfo","photo","setPhoto","title","setTitle","click","setClick","message","setMessage","navigate","pathname","id","slice","length","category","setCategory","description","setDescription","choose","setChoose","categories","cats","dispatch","editErr","uploadFile","e","file","target","files","formData","FormData","append","post","headers","Authorization","token","submitHandler","push","console","log","preventDefault","username","value","Date","createdAt","toDateString","map","cat"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport {Select,Option,SelectItem,Header,Down} from \"./styles/postStyle\"\r\nimport {BlogItem,ItemImg,EditTitle,Head,User,Dates,EditDesc,Button,Checked} from \"./styles/blogg\"\r\nimport { BlogContainer } from \"../components/sidebar/styles/sidebarstyle\"\r\nimport Sidebar from \"../components/sidebar/sidebar\"\r\nimport {data} from \"./data/categories\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { Line,Input,AddImg,InputField } from \"./styles/postStyle\"\r\nimport axios from \"axios\"\r\nimport { editPost } from \"./actions/postactions\"\r\nimport { Message } from \"./styles/loginstyle\"\r\nimport {useLocation, useNavigate} from \"react-router-dom\"\r\nimport Cate from \"./data/cate\"\r\nconst Edit = () =>{\r\n    const blog = useSelector(state=>state.blog.blog)\r\n    const userInfo = useSelector(state=>state.blog.userInfo)\r\n    const [photo,setPhoto] = useState(blog?blog.photo:\"\")\r\n    const [title,setTitle] = useState(blog.title?blog.title:\"\")\r\n    const [click,setClick] = useState(false)\r\n    const [message,setMessage] = useState('')\r\n    const navigate = useNavigate()\r\n    const {pathname} = useLocation()\r\nconst id =  pathname.slice(6,pathname.length - 5)\r\n    const [category,setCategory] = useState(\"\")\r\n    const [description,setDescription] = useState(blog.description?blog.description:\"\")\r\n    const [choose,setChoose] = useState(false)\r\nlet categories = []\r\nlet cats = [...categories]\r\nconst dispatch = useDispatch()\r\nconst editErr = useSelector(state=>state.blog.editErr)\r\nconst uploadFile = async(e) =>{\r\n    const file = e.target.files[0]\r\n    const formData = new FormData()\r\n    formData.append(\"image\",file)\r\n    const {data} = await axios.post('/api/upload',formData,{\r\n        headers:{\r\n            \"Content-Type\":\"multiformat/formdata\",\r\n          Authorization:`Bearer ${userInfo.token}`\r\n        }\r\n    })\r\n    setPhoto(`/images/${data.slice(24,data.length)}`)\r\n}\r\nconst submitHandler = (e) =>{\r\n\r\n   if(category !== \"\") categories.push(...cats,category)\r\n   console.log(cats)\r\n    e.preventDefault()\r\n    dispatch(editPost({\r\n        username:userInfo.username,\r\n       title,description,photo,categories\r\n    },id,userInfo))\r\n    if(!editErr) setMessage(\"Post updated successfully!\")\r\n\r\n}\r\n\r\n    return(<>\r\n    {message && <Message two>{message}</Message>}\r\n    {editErr && <Message>{editErr}</Message>}\r\n        <BlogContainer>\r\n        <BlogItem onSubmit = {submitHandler}>\r\n            <ItemImg src = {photo} />\r\n            <Line two>\r\n<Input two onChange = {uploadFile} type = \"file\" name = \"image\"  />\r\n<AddImg  />\r\n<span>{photo}</span>\r\n</Line>\r\n            <EditTitle placeholder = \"Enter title\" value = {title} onChange = {(e)=>setTitle(e.target.value)} />\r\n            <Head two>\r\n                <User>\r\n                    Author: {blog.username}\r\n                </User>\r\n                <Dates>{new Date(blog.createdAt).toDateString()}</Dates>\r\n            </Head>\r\n            <EditDesc placeholder = \"Enter description\" value = {description} onChange = {(e)=>setDescription(e.target.value)} />\r\n            <SelectItem two>\r\n                <Header onClick = {()=>setChoose(!choose)}>Choose Category: </Header>\r\n                <div>\r\n            {data.map(cat=>(\r\n                <Cate cat = {cat} choose = {choose} categories = {categories} cats = {cats} />\r\n            ))}\r\n            {!choose && <Select two onClick = {()=>setChoose(!choose)}>\r\n    <Option>Categories <Down /></Option>\r\n</Select>}\r\n{choose && <Select onClick = {()=>setClick(true)} >\r\n    <Option>Others </Option>\r\n</Select>}\r\n{click&& <InputField placeholder = \"Enter category\" type = \"text\" value = {category} onChange = {(e)=>setCategory(e.target.value)} />}\r\n</div>\r\n            </SelectItem>\r\n            <Button type = \"submit\">Update</Button>\r\n        </BlogItem>\r\n        <Sidebar />\r\n        </BlogContainer>\r\n        </>\r\n    )\r\n}\r\nexport default Edit"]},"metadata":{},"sourceType":"module"}