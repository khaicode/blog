{"ast":null,"code":"import axios from \"axios\";\nimport { login, requestSignin, errorSignin, registerLoad, registerError } from \"../../utils/store\";\nexport const signin = (_ref, navigate) => {\n  let {\n    email,\n    password\n  } = _ref;\n  return async dispatch => {\n    dispatch(requestSignin({\n      requestUser: true\n    }));\n\n    try {\n      const {\n        data\n      } = await axios.post('/api/users/signin', {\n        email,\n        password\n      });\n      dispatch(login({\n        userInfo: data\n      }));\n      dispatch(requestSignin({\n        requestUser: false\n      }));\n      navigate('/');\n    } catch (error) {\n      dispatch(requestSignin({\n        requestUser: false\n      }));\n      dispatch(errorSignin({\n        errorUser: error.message && error.data.response.message ? error.data.response.message : error.message\n      }));\n    }\n  };\n};\nexport const register = (_ref2, navigate) => {\n  let {\n    username,\n    email,\n    password\n  } = _ref2;\n  return async dispatch => {\n    dispatch(registerLoad({\n      loadRequest: true\n    }));\n\n    try {\n      const {\n        data\n      } = await axios.post('/api/users/register', {\n        username,\n        email,\n        password\n      });\n      dispatch(login({\n        userInfo: data\n      }));\n      dispatch(registerLoad({\n        loadRequest: false\n      }));\n      navigate('/');\n    } catch (error) {\n      dispatch(registerLoad({\n        loadRequest: false\n      }));\n      dispatch(registerError({\n        errorRequest: error.message && error.data.response.message ? error.data.response.message : error.message\n      }));\n    }\n  };\n};\nexport const signout = () => async dispatch => {\n  dispatch(login({\n    userInfo: null\n  }));\n  localStorage.removeItem(\"userInfo\");\n  document.location.href = \"/signin\";\n};","map":{"version":3,"sources":["E:/blog/frontend/src/pages/actions/useractions.js"],"names":["axios","login","requestSignin","errorSignin","registerLoad","registerError","signin","navigate","email","password","dispatch","requestUser","data","post","userInfo","error","errorUser","message","response","register","username","loadRequest","errorRequest","signout","localStorage","removeItem","document","location","href"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport  {login,requestSignin,errorSignin,registerLoad,registerError} from \"../../utils/store\"\r\nexport const signin = ({email,password},navigate) =>async(dispatch)=>{\r\ndispatch(requestSignin({requestUser:true}))\r\ntry{\r\n    const {data} = await axios.post('/api/users/signin',{email,password})\r\n    dispatch(login({userInfo:data}))\r\n    dispatch(requestSignin({requestUser:false}))\r\nnavigate('/')\r\n}\r\ncatch(error){\r\n    dispatch(requestSignin({requestUser:false}))\r\n  dispatch(errorSignin({errorUser:error.message && error.data.response.message ?error.data.response.message :error.message}))\r\n}\r\n}\r\nexport const register = ({username,email,password},navigate) =>async(dispatch)=>{\r\n  dispatch(registerLoad({loadRequest:true}))\r\n  try{\r\n      const {data} = await axios.post('/api/users/register',{username,email,password})\r\n      dispatch(login({userInfo:data}))\r\n      dispatch(registerLoad({loadRequest:false}))\r\n  navigate('/')\r\n  }\r\n  catch(error){\r\n      dispatch(registerLoad({loadRequest:false}))\r\n    dispatch(registerError({errorRequest:error.message && error.data.response.message ?error.data.response.message :error.message}))\r\n  }\r\n  }\r\n  export const signout = () =>async(dispatch) =>{\r\n    dispatch(login({userInfo:null}))\r\n    localStorage.removeItem(\"userInfo\")\r\n    document.location.href = \"/signin\"\r\n  }"]},"metadata":{},"sourceType":"module"}