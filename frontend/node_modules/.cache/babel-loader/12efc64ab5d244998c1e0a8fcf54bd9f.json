{"ast":null,"code":"import axios from \"axios\";\nimport { errorPost, loadPost, postBlog, getPosts, getBlog, errorBlog, loadBlog } from \"../../utils/store\";\nexport const post = (_ref, userInfo) => {\n  let {\n    username,\n    title,\n    description,\n    photo\n  } = _ref;\n  return async dispatch => {\n    const {\n      data\n    } = await axios.post(\"/api/post\", {\n      username,\n      title,\n      description,\n      photo\n    }, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch(postBlog({\n      post: data\n    }));\n  };\n};\nexport const fetchPosts = () => async dispatch => {\n  dispatch(loadPost({\n    load: true\n  }));\n\n  try {\n    const {\n      data\n    } = await axios.get(\"/api/post\");\n    dispatch(getPosts({\n      posts: data.posts\n    }));\n    dispatch(loadPost({\n      load: false\n    }));\n  } catch (error) {\n    dispatch(loadPost({\n      load: false\n    }));\n    dispatch(errorPost({\n      error: error.response && error.response.data.message ? error.response.data.message : error.message\n    }));\n  }\n};\nexport const fetchBlog = id => async dispatch => {\n  dispatch(loadBlog({\n    loadB: true\n  }));\n\n  try {\n    const {\n      data\n    } = await axios.get(`/api/post/${id}`);\n    dispatch(getBlog({\n      blog: data.post\n    }));\n    dispatch(loadBlog({\n      loadB: false\n    }));\n  } catch (error) {\n    dispatch(loadBlog({\n      loadB: false\n    }));\n    dispatch(errorBlog({\n      errorB: error.response && error.response.data.message ? error.response.data.message : error.message\n    }));\n  }\n};\nexport const editPost = (_ref2, id, userInfo) => {\n  let {\n    username,\n    title,\n    description,\n    photo,\n    categories\n  } = _ref2;\n  return async dispatch => {\n    const {\n      data\n    } = await axios.put(`/api/post/${id}`, {\n      username,\n      title,\n      description,\n      photo,\n      categories\n    }, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch(getBlog({\n      blog: data\n    }));\n  };\n};","map":{"version":3,"sources":["E:/blog/frontend/src/pages/actions/postactions.js"],"names":["axios","errorPost","loadPost","postBlog","getPosts","getBlog","errorBlog","loadBlog","post","userInfo","username","title","description","photo","dispatch","data","headers","Authorization","token","fetchPosts","load","get","posts","error","response","message","fetchBlog","id","loadB","blog","errorB","editPost","categories","put"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport {errorPost,loadPost,postBlog,getPosts,getBlog,errorBlog,loadBlog} from \"../../utils/store\"\r\nexport const post = ({username,title,description,photo},userInfo) =>async(dispatch) =>{\r\n\r\n    const {data} = await axios.post(\"/api/post\",{username,title,description,photo},{\r\n        headers:{\r\n            Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n    })\r\n    dispatch(postBlog({post:data}))\r\n\r\n}\r\nexport const fetchPosts = () =>async(dispatch) =>{\r\n    dispatch(loadPost({load:true}))\r\n    try{\r\n        const {data} = await axios.get(\"/api/post\")\r\n        dispatch(getPosts({posts:data.posts}))\r\n        dispatch(loadPost({load:false}))\r\n    \r\n    }\r\n    catch(error){\r\n        dispatch(loadPost({load:false}))\r\n    dispatch(errorPost({error:error.response && error.response.data.message?error.response.data.message:error.message}))\r\n    }\r\n    }\r\n    export const fetchBlog = (id) =>async(dispatch) =>{\r\n        dispatch(loadBlog({loadB:true}))\r\n    try{\r\n        const {data} = await axios.get(`/api/post/${id}`)\r\n        dispatch(getBlog({blog:data.post}))\r\n        dispatch(loadBlog({loadB:false}))\r\n    \r\n    }\r\n    catch(error){\r\n        dispatch(loadBlog({loadB:false}))\r\n    dispatch(errorBlog({errorB:error.response && error.response.data.message?error.response.data.message:error.message}))\r\n    } \r\n    }\r\n    export const editPost = ({username,title,description,photo,categories},id,userInfo) =>async(dispatch)=>{\r\nconst {data} = await axios.put(`/api/post/${id}`,{username,title,description,photo,categories},{\r\n    headers:{\r\n        Authorization:`Bearer ${userInfo.token}`\r\n    }\r\n})\r\ndispatch(getBlog({blog:data}))\r\n    }"]},"metadata":{},"sourceType":"module"}