{"ast":null,"code":"import axios from \"axios\";\nimport { errorPost, loadPost, postBlog, getPosts } from \"../../utils/store\";\nexport const post = (_ref, userInfo) => {\n  let {\n    username,\n    title,\n    description,\n    photo\n  } = _ref;\n  return async dispatch => {\n    const {\n      data\n    } = await axios.post(\"/api/post\", {\n      username,\n      title,\n      description,\n      photo\n    }, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch(postBlog({\n      post: data\n    }));\n  };\n};\nexport const posts = () => async dispatch => {\n  dispatch(loadPost({\n    load: true\n  }));\n\n  try {\n    const {\n      data\n    } = await axios.get(\"/api/post\");\n    dispatch(getPosts({\n      posts: data\n    }));\n    dispatch(loadPost({\n      load: false\n    }));\n  } catch (error) {\n    dispatch(loadPost({\n      load: false\n    }));\n    dispatch(errorPost({\n      error: error.response && error.response.data.message ? error.response.data.message : error.message\n    }));\n  }\n};","map":{"version":3,"sources":["E:/blog/frontend/src/pages/actions/postactions.js"],"names":["axios","errorPost","loadPost","postBlog","getPosts","post","userInfo","username","title","description","photo","dispatch","data","headers","Authorization","token","posts","load","get","error","response","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAkBC,QAAlB,EAA2BC,QAA3B,EAAoCC,QAApC,QAAmD,mBAAnD;AACA,OAAO,MAAMC,IAAI,GAAG,OAAoCC,QAApC;AAAA,MAAC;AAACC,IAAAA,QAAD;AAAUC,IAAAA,KAAV;AAAgBC,IAAAA,WAAhB;AAA4BC,IAAAA;AAA5B,GAAD;AAAA,SAAgD,MAAMC,QAAN,IAAkB;AAElF,UAAM;AAACC,MAAAA;AAAD,QAAS,MAAMZ,KAAK,CAACK,IAAN,CAAW,WAAX,EAAuB;AAACE,MAAAA,QAAD;AAAUC,MAAAA,KAAV;AAAgBC,MAAAA,WAAhB;AAA4BC,MAAAA;AAA5B,KAAvB,EAA0D;AAC3EG,MAAAA,OAAO,EAAC;AACJC,QAAAA,aAAa,EAAG,UAASR,QAAQ,CAACS,KAAM;AADpC;AADmE,KAA1D,CAArB;AAKAJ,IAAAA,QAAQ,CAACR,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAACO;AAAN,KAAD,CAAT,CAAR;AAEH,GATmB;AAAA,CAAb;AAUP,OAAO,MAAMI,KAAK,GAAG,MAAK,MAAML,QAAN,IAAkB;AACxCA,EAAAA,QAAQ,CAACT,QAAQ,CAAC;AAACe,IAAAA,IAAI,EAAC;AAAN,GAAD,CAAT,CAAR;;AACA,MAAG;AACC,UAAM;AAACL,MAAAA;AAAD,QAAS,MAAMZ,KAAK,CAACkB,GAAN,CAAU,WAAV,CAArB;AACAP,IAAAA,QAAQ,CAACP,QAAQ,CAAC;AAACY,MAAAA,KAAK,EAACJ;AAAP,KAAD,CAAT,CAAR;AACAD,IAAAA,QAAQ,CAACT,QAAQ,CAAC;AAACe,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAT,CAAR;AAEH,GALD,CAMA,OAAME,KAAN,EAAY;AACRR,IAAAA,QAAQ,CAACT,QAAQ,CAAC;AAACe,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAT,CAAR;AACJN,IAAAA,QAAQ,CAACV,SAAS,CAAC;AAACkB,MAAAA,KAAK,EAACA,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeR,IAAf,CAAoBS,OAAtC,GAA8CF,KAAK,CAACC,QAAN,CAAeR,IAAf,CAAoBS,OAAlE,GAA0EF,KAAK,CAACE;AAAvF,KAAD,CAAV,CAAR;AACC;AACA,CAZE","sourcesContent":["import axios from \"axios\"\r\nimport {errorPost,loadPost,postBlog,getPosts} from \"../../utils/store\"\r\nexport const post = ({username,title,description,photo},userInfo) =>async(dispatch) =>{\r\n\r\n    const {data} = await axios.post(\"/api/post\",{username,title,description,photo},{\r\n        headers:{\r\n            Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n    })\r\n    dispatch(postBlog({post:data}))\r\n\r\n}\r\nexport const posts = () =>async(dispatch) =>{\r\n    dispatch(loadPost({load:true}))\r\n    try{\r\n        const {data} = await axios.get(\"/api/post\")\r\n        dispatch(getPosts({posts:data}))\r\n        dispatch(loadPost({load:false}))\r\n    \r\n    }\r\n    catch(error){\r\n        dispatch(loadPost({load:false}))\r\n    dispatch(errorPost({error:error.response && error.response.data.message?error.response.data.message:error.message}))\r\n    }\r\n    }"]},"metadata":{},"sourceType":"module"}