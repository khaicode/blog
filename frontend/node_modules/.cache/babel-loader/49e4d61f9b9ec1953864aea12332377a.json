{"ast":null,"code":"import axios from \"axios\";\nimport { errorPost, loadPost, postBlog } from \"../../utils/store\";\nexport const post = (_ref, userInfo) => {\n  let {\n    username,\n    title,\n    description,\n    photo\n  } = _ref;\n  return async dispatch => {\n    dispatch(loadPost({\n      load: true\n    }));\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/post\", {\n        username,\n        title,\n        description,\n        photo\n      }, {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      });\n      dispatch(postBlog({\n        post: data\n      }));\n      dispatch(loadPost({\n        load: false\n      }));\n    } catch (error) {\n      dispatch(loadPost({\n        load: false\n      }));\n      dispatch(errorPost({\n        error: error.response && error.response.data.message ? error.response.data.message : error.message\n      }));\n    }\n  };\n};","map":{"version":3,"sources":["E:/blog/frontend/src/pages/actions/postactions.js"],"names":["axios","errorPost","loadPost","postBlog","post","userInfo","username","title","description","photo","dispatch","load","data","headers","Authorization","token","error","response","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAkBC,QAAlB,EAA2BC,QAA3B,QAA0C,mBAA1C;AACA,OAAO,MAAMC,IAAI,GAAG,OAAoCC,QAApC;AAAA,MAAC;AAACC,IAAAA,QAAD;AAAUC,IAAAA,KAAV;AAAgBC,IAAAA,WAAhB;AAA4BC,IAAAA;AAA5B,GAAD;AAAA,SAAgD,MAAMC,QAAN,IAAkB;AACtFA,IAAAA,QAAQ,CAACR,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAT,CAAR;;AACA,QAAG;AACC,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMZ,KAAK,CAACI,IAAN,CAAW,WAAX,EAAuB;AAACE,QAAAA,QAAD;AAAUC,QAAAA,KAAV;AAAgBC,QAAAA,WAAhB;AAA4BC,QAAAA;AAA5B,OAAvB,EAA0D;AAC3EI,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAG,UAAST,QAAQ,CAACU,KAAM;AADpC;AADmE,OAA1D,CAArB;AAKAL,MAAAA,QAAQ,CAACP,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACQ;AAAN,OAAD,CAAT,CAAR;AACAF,MAAAA,QAAQ,CAACR,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAT,CAAR;AAEH,KATD,CAUA,OAAMK,KAAN,EAAY;AACRN,MAAAA,QAAQ,CAACR,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAT,CAAR;AACJD,MAAAA,QAAQ,CAACT,SAAS,CAAC;AAACe,QAAAA,KAAK,EAACA,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAAtC,GAA8CF,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAAlE,GAA0EF,KAAK,CAACE;AAAvF,OAAD,CAAV,CAAR;AACC;AACA,GAhBmB;AAAA,CAAb","sourcesContent":["import axios from \"axios\"\r\nimport {errorPost,loadPost,postBlog} from \"../../utils/store\"\r\nexport const post = ({username,title,description,photo},userInfo) =>async(dispatch) =>{\r\ndispatch(loadPost({load:true}))\r\ntry{\r\n    const {data} = await axios.post(\"/api/post\",{username,title,description,photo},{\r\n        headers:{\r\n            Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n    })\r\n    dispatch(postBlog({post:data}))\r\n    dispatch(loadPost({load:false}))\r\n\r\n}\r\ncatch(error){\r\n    dispatch(loadPost({load:false}))\r\ndispatch(errorPost({error:error.response && error.response.data.message?error.response.data.message:error.message}))\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}